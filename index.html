<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Bookmarklets</title>
    <script type="text/javascript" charset="utf-8">
      var bookmarklets = (function () {
          var bookmarklets = [];

          return {
            init : function () {
              var i, links = document.getElementsByTagName("a");
              if (links.length) {
                for (i = 0; i < links.length; i += 1) {
                  bookmarklets.push({title: links[i].title, href: links[i].href});
                }
              }
            },

            append : function () {
              var i, bookmarklet, body = document.getElementsByTagName("body")[0];
              for (i = 0; i < bookmarklets.length; i += 1) {
                bookmarklet = document.createElement("div");
                bookmarklet.innerHTML = '<a href="bookmarklet.html#' + bookmarklets[i].href + '">' + bookmarklets[i].title + '</a>';
                body.insertBefore(bookmarklet, body.firstChild);
              }
            }
          };
        }());

      window.onload = function () {
        bookmarklets.init();
        bookmarklets.append();
      };
    </script>
  </head>
  <body>
    <content>
      <p>Sample text with a <a href="javascript:alert('Hello Bookmarklet');" title="Hello Bookmarklet">hello bookmarklet</a></p>
    </content>
  </body>
</html>